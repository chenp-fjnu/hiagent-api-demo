# å¢å¼ºç‰ˆGitè‡ªåŠ¨åŒ–å·¥ä½œæµç¨‹ç³»ç»Ÿ

## ğŸš€ ç³»ç»Ÿæ¦‚è¿°

å¢å¼ºç‰ˆGitè‡ªåŠ¨åŒ–å·¥ä½œæµç¨‹ç³»ç»Ÿæ˜¯ä¸€ä¸ªæ™ºèƒ½çš„ä»£ç å˜æ›´ç›‘æ§å’Œè‡ªåŠ¨æäº¤å·¥å…·ï¼Œå½“æ£€æµ‹åˆ°ä»£ç æ›´æ”¹æ—¶ä¼šè‡ªåŠ¨è§¦å‘Gitæäº¤å’Œæ¨é€åˆ°GitHubã€‚è¯¥ç³»ç»Ÿå…·æœ‰ä»¥ä¸‹æ ¸å¿ƒç‰¹æ€§ï¼š

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

- **ğŸ” æ™ºèƒ½æ–‡ä»¶ç›‘æ§**: åŸºäºwatchdogçš„å®æ—¶æ–‡ä»¶ç³»ç»Ÿç›‘æ§
- **ğŸ¤– æ™ºèƒ½æäº¤æ¶ˆæ¯**: è‡ªåŠ¨ç”ŸæˆåŒ…å«å˜æ›´ç±»å‹å’Œæ–‡ä»¶ä¿¡æ¯çš„æœ‰æ„ä¹‰æäº¤æ¶ˆæ¯
- **ğŸ” å®‰å…¨è®¤è¯ç®¡ç†**: æ”¯æŒPersonal Access Tokenå’ŒSSHå¯†é’¥ä¸¤ç§è®¤è¯æ–¹å¼
- **ğŸ›¡ï¸ å†²çªé¢„é˜²æœºåˆ¶**: è‡ªåŠ¨æ£€æµ‹å’Œå¤„ç†åˆå¹¶å†²çªï¼Œé¿å…æäº¤å¤±è´¥
- **âš™ï¸ çµæ´»é…ç½®ç³»ç»Ÿ**: æ”¯æŒYAML/JSONé…ç½®æ–‡ä»¶ï¼Œå¯è‡ªå®šä¹‰å„ç§å‚æ•°
- **ğŸ› ï¸ é”™è¯¯å¤„ç†å¢å¼º**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§

### ğŸ¯ ä¸»è¦ç‰¹æ€§

1. **ç›‘æ§é¡¹ç›®ç›®å½•çš„æ–‡ä»¶ä¿®æ”¹ã€æ·»åŠ å’Œåˆ é™¤**
2. **ç”ŸæˆåŒ…å«å˜æ›´ç±»å‹å’Œå—å½±å“æ–‡ä»¶çš„æœ‰æ„ä¹‰æäº¤æ¶ˆæ¯**
3. **å®‰å…¨å¤„ç†GitHubè®¤è¯ï¼ˆSSHå¯†é’¥æˆ–ä¸ªäººè®¿é—®ä»¤ç‰Œï¼‰**
4. **åŒ…å«æäº¤/æ¨é€å¤±è´¥çš„é”™è¯¯å¤„ç†å’Œæè¿°æ€§é”™è¯¯æ¶ˆæ¯**
5. **ç¡®ä¿ä¸æ ‡å‡†Gitå·¥ä½œæµå…¼å®¹ï¼ŒåŒ…æ‹¬åˆ†æ”¯æ£€æŸ¥å’Œåˆå¹¶å†²çªé¢„é˜²**
6. **å…è®¸é…ç½®æäº¤é¢‘ç‡ã€å¿½ç•¥æ–‡ä»¶/æ¨¡å¼å’Œç›®æ ‡åˆ†æ”¯**
7. **å®ç°è½»é‡çº§ã€å¯é ä¸”å¯¹å¼€å‘è¿‡ç¨‹å¹²æ‰°æœ€å°**

## ğŸ“¦ å®‰è£…å’Œé…ç½®

### ç³»ç»Ÿè¦æ±‚

- Python 3.7+
- Git 2.0+
- ç¨³å®šçš„ç½‘ç»œè¿æ¥

### å¿«é€Ÿå®‰è£…

1. **è¿è¡Œå®‰è£…å‘å¯¼**:
   ```bash
   python install_git_automation.py
   ```

2. **æ‰‹åŠ¨å®‰è£…ä¾èµ–**:
   ```bash
   pip install -r requirements_git_automation.txt
   ```

3. **é…ç½®GitHubè®¤è¯**:
   - **Personal Access Token** (æ¨è):
     ```bash
     echo "your_github_token" > .github_token
     ```
   - **SSHå¯†é’¥**:
     ```bash
     # ç¡®ä¿SSHå¯†é’¥ä½äº ~/.ssh/id_rsa æˆ–æ›´æ–°é…ç½®æ–‡ä»¶
     ssh-keygen -t ed25519 -C "your_email@example.com"
     ```

### é…ç½®æ–‡ä»¶è¯¦è§£

ç³»ç»Ÿä½¿ç”¨ `enhanced_git_config.yaml` æ–‡ä»¶è¿›è¡Œé…ç½®ï¼š

```yaml
# æ–‡ä»¶ç›‘æ§é…ç½®
monitoring:
  watch_directory: "."          # ç›‘æ§ç›®å½•
  recursive: true               # é€’å½’ç›‘æ§å­ç›®å½•
  ignore_patterns:              # å¿½ç•¥æ¨¡å¼
    - "*.pyc"
    - "__pycache__/*"
    - ".git/*"
    # ... æ›´å¤šæ¨¡å¼

# æäº¤æ¶ˆæ¯ç”Ÿæˆé…ç½®
commit_generation:
  enabled: true
  auto_generate: true
  include_timestamp: true
  max_message_length: 100

# GitHubè®¤è¯é…ç½®
github_auth:
  auth_method: "token"          # æˆ– "ssh"
  token_file: ".github_token"

# å†²çªå¤„ç†é…ç½®
conflict_handling:
  enabled: true
  max_retry_attempts: 3
  auto_resolve: true

# è°ƒåº¦é…ç½®
scheduling:
  commit_delay: 5               # æäº¤å»¶è¿Ÿï¼ˆç§’ï¼‰
  max_commits_per_hour: 60
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨

1. **å¯åŠ¨ç›‘æ§**:
   ```bash
   python enhanced_git_automation.py
   ```

2. **æµ‹è¯•GitHubè®¤è¯**:
   ```bash
   python enhanced_git_automation.py --test-auth
   ```

3. **æŸ¥çœ‹å¸®åŠ©**:
   ```bash
   python enhanced_git_automation.py --help
   ```

4. **åˆå§‹åŒ–é…ç½®**:
   ```bash
   python enhanced_git_automation.py --init-config
   ```

### æ™ºèƒ½æäº¤æ¶ˆæ¯ç¤ºä¾‹

ç³»ç»Ÿä¼šæ ¹æ®å˜æ›´ç±»å‹è‡ªåŠ¨ç”Ÿæˆä¸­æ–‡æäº¤æ¶ˆæ¯ï¼š

- **âœ¨ æ–°å¢**: `âœ¨ æ–°å¢ 3 ä¸ªæ–‡ä»¶ [ä»£ç ] : app.py, models.py, utils.py [2025-11-14 17:30:22]`
- **ğŸ“ ä¿®æ”¹**: `ğŸ“ ä¿®æ”¹ 2 ä¸ªæ–‡ä»¶ [é…ç½®] : config.json, requirements.txt`
- **ğŸ—‘ï¸ åˆ é™¤**: `ğŸ—‘ï¸ åˆ é™¤ 1 ä¸ªæ–‡ä»¶ : test_old.py`
- **ğŸ”„ æ··åˆå˜æ›´**: `ğŸ”„ æ··åˆå˜æ›´ 5 ä¸ªæ–‡ä»¶ [ä»£ç ] : main.py, style.css, index.html ç­‰`

### å¿½ç•¥æ–‡ä»¶é…ç½®

ç³»ç»Ÿä¼šè‡ªåŠ¨å¿½ç•¥ä»¥ä¸‹ç±»å‹çš„æ–‡ä»¶ï¼š

```
# ç³»ç»Ÿæ–‡ä»¶
.DS_Store, Thumbs.db

# Python
*.pyc, __pycache__/, .venv/

# IDEé…ç½®
.idea/, .vscode/, *.swp

# æ—¥å¿—å’Œç¼“å­˜
*.log, .cache/

# æ•æ„Ÿæ–‡ä»¶
.github_token, .env, .env.*
```

## ğŸ› ï¸ é«˜çº§é…ç½®

### è‡ªå®šä¹‰ç›‘æ§ç›®å½•

```yaml
monitoring:
  watch_directory: "./src"      # åªç›‘æ§srcç›®å½•
  recursive: true               # é€’å½’ç›‘æ§
```

### è‡ªå®šä¹‰æäº¤æ¶ˆæ¯æ ¼å¼

```yaml
commit_generation:
  enabled: true
  auto_generate: true
  include_timestamp: false      # ä¸åŒ…å«æ—¶é—´æˆ³
  max_message_length: 80        # é™åˆ¶æ¶ˆæ¯é•¿åº¦
```

### è®¤è¯æ–¹å¼åˆ‡æ¢

**ä½¿ç”¨Tokenè®¤è¯**:
```yaml
github_auth:
  auth_method: "token"
  token_file: ".github_token"
```

**ä½¿ç”¨SSHè®¤è¯**:
```yaml
github_auth:
  auth_method: "ssh"
  ssh_key_path: "~/.ssh/id_rsa"
```

### å†²çªå¤„ç†é…ç½®

```yaml
conflict_handling:
  enabled: true
  max_retry_attempts: 5         # å¢åŠ é‡è¯•æ¬¡æ•°
  retry_delay: 3                # å¢åŠ é‡è¯•å»¶è¿Ÿ
  auto_resolve: true            # å¯ç”¨è‡ªåŠ¨è§£å†³
```

## ğŸ“Š ç›‘æ§å’Œç®¡ç†

### å®æ—¶çŠ¶æ€ç›‘æ§

ç³»ç»Ÿå¯åŠ¨åä¼šæ˜¾ç¤ºï¼š

```
ğŸš€ å¯åŠ¨å¢å¼ºç‰ˆGitè‡ªåŠ¨åŒ–ç³»ç»Ÿ...
ğŸ” æµ‹è¯•GitHubè¿æ¥...
âœ… è¿æ¥æˆåŠŸ
ğŸ“‚ ç›‘æ§ç›®å½•: /path/to/project
ğŸŒ¿ å½“å‰åˆ†æ”¯: main
ğŸ¯ ç›®æ ‡åˆ†æ”¯: main
â±ï¸  æäº¤å»¶è¿Ÿ: 5 ç§’
ğŸ” æ–‡ä»¶ç›‘æ§å·²å¯åŠ¨ï¼Œç­‰å¾…æ–‡ä»¶å˜åŒ–...
ğŸ’¡ æŒ‰ Ctrl+C åœæ­¢ç›‘æ§
```

### æ–‡ä»¶å˜åŒ–æ£€æµ‹

å½“æ£€æµ‹åˆ°æ–‡ä»¶å˜åŒ–æ—¶ï¼š

```
ğŸ“ æ£€æµ‹åˆ°æ–‡ä»¶å˜åŒ–: modified - /path/to/file.py
ğŸ”„ å‡†å¤‡æäº¤: ğŸ“ ä¿®æ”¹ 1 ä¸ªæ–‡ä»¶ [ä»£ç ] : file.py
âœ… æäº¤æˆåŠŸ: ğŸ“ ä¿®æ”¹ 1 ä¸ªæ–‡ä»¶ [ä»£ç ] : file.py
ğŸš€ æ¨é€åˆ°è¿œç¨‹ä»“åº“æˆåŠŸ
```

### é”™è¯¯å¤„ç†ç¤ºä¾‹

```
âŒ GitHubè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ä»¥ä¸‹é…ç½®:
   - GitHub Personal Access Token
   - SSHå¯†é’¥é…ç½®
   - ç½‘ç»œè¿æ¥

âš ï¸  å†²çªå¤„ç†å¤±è´¥ï¼Œç­‰å¾… 2 ç§’åé‡è¯•... (1/3)
ğŸ”„ è‡ªåŠ¨è§£å†³åˆå¹¶å†²çª
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **è®¤è¯å¤±è´¥**:
   - æ£€æŸ¥Tokenæ˜¯å¦æ­£ç¡®è®¾ç½®
   - ç¡®è®¤Tokenæƒé™èŒƒå›´åŒ…å«repoæƒé™
   - éªŒè¯SSHå¯†é’¥é…ç½®

2. **æäº¤å¤±è´¥**:
   - æ£€æŸ¥Gité…ç½®ï¼ˆuser.name, user.emailï¼‰
   - ç¡®è®¤å½“å‰åˆ†æ”¯æ˜¯å¦æœ‰æƒé™
   - æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯

3. **æ¨é€å¤±è´¥**:
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - ç¡®è®¤è¿œç¨‹ä»“åº“URLæ­£ç¡®
   - æ£€æŸ¥åˆ†æ”¯ä¿æŠ¤è®¾ç½®

### æ—¥å¿—è°ƒè¯•

å¯ç”¨è°ƒè¯•æ¨¡å¼ï¼š

```yaml
debug: true
```

### é‡ç½®é…ç½®

å¦‚æœéœ€è¦é‡æ–°é…ç½®ï¼š

```bash
# åˆ é™¤é…ç½®æ–‡ä»¶
rm enhanced_git_config.yaml

# é‡æ–°åˆå§‹åŒ–
python enhanced_git_automation.py --init-config
```

## ğŸ” å®‰å…¨è€ƒè™‘

### Tokenå®‰å…¨

- **æ°¸è¿œä¸è¦**å°†`.github_token`æ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
- å®šæœŸè½®æ¢Personal Access Token
- ä½¿ç”¨æœ€å°æƒé™åŸåˆ™è®¾ç½®Tokenæƒé™

### SSHå¯†é’¥

- ä½¿ç”¨å¼ºå¯†ç ä¿æŠ¤ç§é’¥
- å®šæœŸæ›´æ–°SSHå¯†é’¥
- ç¡®ä¿å¯†é’¥æ–‡ä»¶æƒé™æ­£ç¡® (600)

### æ–‡ä»¶ç›‘æ§

- ç³»ç»Ÿåªç›‘æ§é…ç½®æ–‡ä»¶å…è®¸çš„æ–‡ä»¶ç±»å‹
- è‡ªåŠ¨å¿½ç•¥æ•æ„Ÿæ–‡ä»¶ï¼ˆ.env, .github_tokenç­‰ï¼‰
- æ”¯æŒè‡ªå®šä¹‰å¿½ç•¥æ¨¡å¼

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### æ‰¹å¤„ç†é…ç½®

```yaml
monitoring:
  batch_size: 20                # å¢å¤§æ‰¹å¤„ç†å¤§å°
  min_file_age: 2               # å¢åŠ æœ€å°æ–‡ä»¶å¹´é¾„
```

### é¢‘ç‡é™åˆ¶

```yaml
scheduling:
  commit_delay: 10              # å¢åŠ æäº¤å»¶è¿Ÿ
  max_commits_per_hour: 30      # å‡å°‘æ¯å°æ—¶æäº¤æ•°
```

## ğŸ¤ è´¡çŒ®å’Œåé¦ˆ

å¦‚æœæ‚¨å‘ç°é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œè¯·ï¼š

1. æ£€æŸ¥ç°æœ‰çš„æ•…éšœæ’é™¤æ–¹æ¡ˆ
2. æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯
3. æä¾›è¯¦ç»†çš„å¤ç°æ­¥éª¤
4. åŒ…å«ç³»ç»Ÿç¯å¢ƒä¿¡æ¯ï¼ˆPythonç‰ˆæœ¬ã€æ“ä½œç³»ç»Ÿç­‰ï¼‰

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ï¼Œè¯¦è§LICENSEæ–‡ä»¶ã€‚

---

**ğŸ‰ äº«å—é«˜æ•ˆçš„Gitè‡ªåŠ¨åŒ–å·¥ä½œæµç¨‹ï¼**